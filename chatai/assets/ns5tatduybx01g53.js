var ae=Object.defineProperty;var Ue=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var _e=(e,s,u)=>s in e?ae(e,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[s]=u,q=(e,s)=>{for(var u in s||(s={}))xe.call(s,u)&&_e(e,u,s[u]);if(Ue)for(var u of Ue(s))je.call(s,u)&&_e(e,u,s[u]);return e};var b=(e,s,u)=>_e(e,typeof s!="symbol"?s+"":s,u);import{fU as a,cO as me,cm as ke}from"./bjx6p88nrzc4ug4u.js";import{jR as f,jS as F,jT as X,jU as m,jV as x,jW as U,jX as z,jY as k,jZ as $,ix as De,n as $e,j_ as Me,j$ as Be,k0 as Je,k1 as Xe,k2 as ze}from"./8i5ljbfelmyfiwtx.js";import"./pb09dh9fam0wt6jz.js";class J{}b(J,"interfaceName","web.bridge.AgentHandler"),b(J,"interfaceVersion",0);(e=>{let s;(n=>{n.VERSION_INFO=[{version:0,size:16}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size).add(f.forString(S.agentid))}n.measure=N;function E(S,w){S.setString(0,w.agentid)}n.encode=E;function V(S,w){return{agentid:F(S.getString(0))}}n.decode=V})(s=e.AgentHandler_TryOpenAgentViewer_Params||(e.AgentHandler_TryOpenAgentViewer_Params={}));let u;(n=>{n.VERSION_INFO=[{version:0,size:16}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size)}n.measure=N;function E(S,w){let T=0;w.response&&(T|=1),S.setU8(0,T)}n.encode=E;function V(S,w){return{response:(S.getU8(0)&1)!=0}}n.decode=V})(u=e.AgentHandler_TryOpenAgentViewer_ResponseParams||(e.AgentHandler_TryOpenAgentViewer_ResponseParams={}));let R;(n=>{n.VERSION_INFO=[{version:0,size:8}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size)}n.measure=N;function E(S,w){}n.encode=E;function V(S,w){return{}}n.decode=V})(R=e.AgentHandler_GetClientID_Params||(e.AgentHandler_GetClientID_Params={}));let t;(n=>{n.VERSION_INFO=[{version:0,size:16}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size).add(f.forString(S.clientid))}n.measure=N;function E(S,w){S.setString(0,w.clientid)}n.encode=E;function V(S,w){return{clientid:F(S.getString(0))}}n.decode=V})(t=e.AgentHandler_GetClientID_ResponseParams||(e.AgentHandler_GetClientID_ResponseParams={}));let c;(n=>{n.VERSION_INFO=[{version:0,size:16}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size).add(f.forString(S.agentid))}n.measure=N;function E(S,w){S.setString(0,w.agentid)}n.encode=E;function V(S,w){return{agentid:F(S.getString(0))}}n.decode=V})(c=e.AgentHandler_UserSentMessageInAgentConversation_Params||(e.AgentHandler_UserSentMessageInAgentConversation_Params={}));let O;(n=>{n.VERSION_INFO=[{version:0,size:16}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size).add(f.forString(S.agentid))}n.measure=N;function E(S,w){S.setString(0,w.agentid)}n.encode=E;function V(S,w){return{agentid:F(S.getString(0))}}n.decode=V})(O=e.AgentHandler_UserStoppedAgentConversation_Params||(e.AgentHandler_UserStoppedAgentConversation_Params={}));let r;(n=>{n.VERSION_INFO=[{version:0,size:24}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size).add(f.forString(S.agentid)).add(f.forStringArray(S.urls))}n.measure=N;function E(S,w){S.setString(0,w.agentid),S.setStringArray(8,w.urls)}n.encode=E;function V(S,w){return{agentid:F(S.getString(0)),urls:F(X(S.getStringArray(8)))}}n.decode=V})(r=e.AgentHandler_OpenAgentTabs_Params||(e.AgentHandler_OpenAgentTabs_Params={}));class i{constructor(N){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(N.endpointState,!0),this._version=0}static create(){const[N,E]=x.createChannel(e);return[new i(N),E]}static createToBrowser(){const[N,E]=this.create();return Mojo.bindInterface(e.interfaceName,E.pipe.rawHandle),N}async tryOpenAgentViewer(N){const E={agentid:N};return(await this._endpoint.sendAndAwaitResponse(U.encode(0,z.None,s,E))).decode(u).response}async getClientID(){const N={};return(await this._endpoint.sendAndAwaitResponse(U.encode(1,z.None,R,N))).decode(t).clientid}userSentMessageInAgentConversation(N){const E={agentid:N};this._endpoint.send(U.encode(2,z.None,c,E))}userStoppedAgentConversation(N){const E={agentid:N};this._endpoint.send(U.encode(3,z.None,O,E))}openAgentTabs(N,E){const V={agentid:N,urls:E};this._endpoint.send(U.encode(4,z.None,r,V))}}e.Proxy=i;class I extends k{constructor(){super(e);b(this,"onDisconnect")}bind(E,V){this.addReceiver(V,async(S,w)=>{switch(S.header.ordinal){case 0:{const T=S.decode(s),M=E.tryOpenAgentViewer(T.agentid),B=w.createResponder(u,0,S.header.requestID),W=await M;B({response:W});break}case 1:{S.decode(R);const T=E.getClientID(),M=w.createResponder(t,1,S.header.requestID),B=await T;M({clientid:B});break}case 2:{const T=S.decode(c);E.userSentMessageInAgentConversation(T.agentid);break}case 3:{const T=S.decode(O);E.userStoppedAgentConversation(T.agentid);break}case 4:{const T=S.decode(r);E.openAgentTabs(T.agentid,T.urls);break}default:S.header.expectsResponse&&w.sendUnimplementedResponse(S.header.requestID,S.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(E)})}createRemote(E){const[V,S]=x.createChannel(e);return this.bind(E,S),V}}e.Dispatcher=I})(J||(J={}));var P;(e=>{e.VERSION_INFO=[{version:0,size:32}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.accessToken)).add(f.forString(t.idToken))}e.measure=s;function u(t,c){t.setString(0,c.accessToken),t.setString(8,c.idToken),t.setF64(16,c.expiresTimestampMsSince1970)}e.encode=u;function R(t,c){return{accessToken:F(t.getString(0)),idToken:F(t.getString(8)),expiresTimestampMsSince1970:F(t.getF64(16))}}e.decode=R})(P||(P={}));var Oe;(e=>{function s(R){if(R==="justLoggedInAccessToken")return 0;if(R==="reloadPageIfLoggedOut")return 1;if(R==="fullTokenToSessionConversion")return 2;throw new $}e.encode=s;function u(R){switch(R){case 0:return"justLoggedInAccessToken";case 1:return"reloadPageIfLoggedOut";case 2:return"fullTokenToSessionConversion";default:return"justLoggedInAccessToken"}}e.decode=u})(Oe||(Oe={}));class L{}b(L,"interfaceName","web.bridge.AuthHandler"),b(L,"interfaceVersion",0);(e=>{let s;(c=>{c.VERSION_INFO=[{version:0,size:8}],c.CURRENT_VERSION=c.VERSION_INFO[c.VERSION_INFO.length-1];function O(I){return f.bytes(c.CURRENT_VERSION.size)}c.measure=O;function r(I,n){}c.encode=r;function i(I,n){return{}}c.decode=i})(s=e.AuthHandler_HandleMissingSessionAuth_Params||(e.AuthHandler_HandleMissingSessionAuth_Params={}));let u;(c=>{c.VERSION_INFO=[{version:0,size:8}],c.CURRENT_VERSION=c.VERSION_INFO[c.VERSION_INFO.length-1];function O(I){return f.bytes(c.CURRENT_VERSION.size)}c.measure=O;function r(I,n){}c.encode=r;function i(I,n){return{}}c.decode=i})(u=e.AuthHandler_RecordAvailableSessionAuth_Params||(e.AuthHandler_RecordAvailableSessionAuth_Params={}));class R{constructor(O){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(O.endpointState,!0),this._version=0}static create(){const[O,r]=x.createChannel(e);return[new R(O),r]}static createToBrowser(){const[O,r]=this.create();return Mojo.bindInterface(e.interfaceName,r.pipe.rawHandle),O}handleMissingSessionAuth(){const O={};this._endpoint.send(U.encode(0,z.None,s,O))}recordAvailableSessionAuth(){const O={};this._endpoint.send(U.encode(1,z.None,u,O))}}e.Proxy=R;class t extends k{constructor(){super(e);b(this,"onDisconnect")}bind(r,i){this.addReceiver(i,async(I,n)=>{switch(I.header.ordinal){case 0:{I.decode(s),r.handleMissingSessionAuth();break}case 1:{I.decode(u),r.recordAvailableSessionAuth();break}default:I.header.expectsResponse&&n.sendUnimplementedResponse(I.header.requestID,I.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(r)})}createRemote(r){const[i,I]=x.createChannel(e);return this.bind(r,I),i}}e.Dispatcher=t})(L||(L={}));class A{}b(A,"interfaceName","web.bridge.AuthStateController"),b(A,"interfaceVersion",0);(e=>{let s;(t=>{t.VERSION_INFO=[{version:0,size:24}],t.CURRENT_VERSION=t.VERSION_INFO[t.VERSION_INFO.length-1];function c(i){return f.bytes(t.CURRENT_VERSION.size).add(f.forObject(P,i.authToken))}t.measure=c;function O(i,I){i.setObjectIndirect(P,0,I.authToken),i.setEnumValue(Oe,8,I.behavior)}t.encode=O;function r(i,I){return{authToken:F(i.getObjectIndirect(P,0)),behavior:F(i.getEnumValue(Oe,8))}}t.decode=r})(s=e.AuthStateController_RefreshSessionContext_Params||(e.AuthStateController_RefreshSessionContext_Params={}));class u{constructor(c){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(c.endpointState,!0),this._version=0}static create(){const[c,O]=x.createChannel(e);return[new u(c),O]}static createToBrowser(){const[c,O]=this.create();return Mojo.bindInterface(e.interfaceName,O.pipe.rawHandle),c}refreshSessionContext(c,O){const r={authToken:c,behavior:O};this._endpoint.send(U.encode(0,z.None,s,r))}}e.Proxy=u;class R extends k{constructor(){super(e);b(this,"onDisconnect")}bind(O,r){this.addReceiver(r,async(i,I)=>{switch(i.header.ordinal){case 0:{const n=i.decode(s);O.refreshSessionContext(n.authToken,n.behavior);break}default:i.header.expectsResponse&&I.sendUnimplementedResponse(i.header.requestID,i.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(O)})}createRemote(O){const[r,i]=x.createChannel(e);return this.bind(O,i),r}}e.Dispatcher=R})(A||(A={}));var C;(e=>{e.VERSION_INFO=[{version:0,size:32}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.conduitToken))}e.measure=s;function u(t,c){t.setEnumValue(fe,0,c.prepareState),t.setF64(8,c.lastPrepareTimestampMsSince1970),t.setString(16,c.conduitToken)}e.encode=u;function R(t,c){return{prepareState:F(t.getEnumValue(fe,0)),lastPrepareTimestampMsSince1970:F(t.getF64(8)),conduitToken:F(t.getString(16))}}e.decode=R})(C||(C={}));var ee;(e=>{e.VERSION_INFO=[{version:0,size:16}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size)}e.measure=s;function u(t,c){t.setEnumValue(Se,0,c.selectedTab)}e.encode=u;function R(t,c){return{selectedTab:F(t.getEnumValue(Se,0))}}e.decode=R})(ee||(ee={}));var te;(e=>{e.VERSION_INFO=[{version:0,size:56}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.id)).add(f.forString(t.name)).add(f.forString(t.mimeType))}e.measure=s;function u(t,c){let O=0;t.setString(0,c.id),t.setI64(8,c.size),t.setString(16,c.name),t.setString(24,c.mimeType),c.width!==null&&c.width!==void 0&&(O|=1,t.setI32(36,c.width)),c.height!==null&&c.height!==void 0&&(O|=2,t.setI32(40,c.height)),c.fileTokenSize!==null&&c.fileTokenSize!==void 0&&(O|=4,t.setI32(44,c.fileTokenSize)),t.setU8(32,O)}e.encode=u;function R(t,c){const O=t.getU8(32),r=(O&1)!=0,i=(O&2)!=0,I=(O&4)!=0;return q(q(q({id:F(t.getString(0)),size:F(t.getI64(8)),name:F(t.getString(16)),mimeType:F(t.getString(24))},r?{width:F(t.getI32(36))}:{}),i?{height:F(t.getI32(40))}:{}),I?{fileTokenSize:F(t.getI32(44))}:{})}e.decode=R})(te||(te={}));var ne;(e=>{e.VERSION_INFO=[{version:0,size:40},{version:1,size:48},{version:2,size:56}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){var c,O;return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.id)).add(f.forString(t.url)).add(f.forString(t.title)).add(f.forString((c=t.base64favicon)!=null?c:null)).add(f.forString((O=t.selection)!=null?O:null))}e.measure=s;function u(t,c){var r,i;let O=0;t.setString(0,c.id),t.setString(8,c.url),t.setString(16,c.title),t.setString(24,(r=c.base64favicon)!=null?r:null),t.setString(32,(i=c.selection)!=null?i:null),c.blocked!==null&&c.blocked!==void 0&&(O|=1,c.blocked&&(O|=2)),t.setU8(40,O)}e.encode=u;function R(t,c){const O=t.getString(24),r=c>=1?t.getString(32):null,i=c>=2?t.getU8(40):0,I=(i&1)!=0;return q(q(q({id:F(t.getString(0)),url:F(t.getString(8)),title:F(t.getString(16))},O!==null?{base64favicon:O}:{}),r!==null?{selection:r}:{}),I?{blocked:(i&2)!=0}:{})}e.decode=R})(ne||(ne={}));var Ee;(e=>{function s(R){if(R==="mainPage")return 0;if(R==="sidebar")return 1;throw new $}e.encode=s;function u(R){switch(R){case 0:return"mainPage";case 1:return"sidebar";default:throw new $}}e.decode=u})(Ee||(Ee={}));var fe;(e=>{function s(R){if(R==="none")return 0;if(R==="sent")return 1;if(R==="success")return 2;if(R==="failure")return 3;throw new $}e.encode=s;function u(R){switch(R){case 0:return"none";case 1:return"sent";case 2:return"success";case 3:return"failure";default:return"none"}}e.decode=u})(fe||(fe={}));var Se;(e=>{function s(R){if(R==="answer")return 0;if(R==="web")return 1;if(R==="images")return 2;if(R==="videos")return 3;throw new $}e.encode=s;function u(R){switch(R){case 0:return"answer";case 1:return"web";case 2:return"images";case 3:return"videos";default:return"answer"}}e.decode=u})(Se||(Se={}));var he;(e=>{function s(R){if(R==="default_")return 0;if(R==="blue")return 1;if(R==="green")return 2;if(R==="yellow")return 3;if(R==="purple")return 4;if(R==="pink")return 5;if(R==="orange")return 6;if(R==="black")return 7;throw new $}e.encode=s;function u(R){switch(R){case 0:return"default_";case 1:return"blue";case 2:return"green";case 3:return"yellow";case 4:return"purple";case 5:return"pink";case 6:return"orange";case 7:return"black";default:return"default_"}}e.decode=u})(he||(he={}));var Ve;(e=>{function s(R){if(R==="none")return 0;if(R==="startTakeoverFromAgent")return 1;if(R==="endTakeoverFromAgent")return 2;if(R==="stopAgent")return 3;throw new $}e.encode=s;function u(R){switch(R){case 0:return"none";case 1:return"startTakeoverFromAgent";case 2:return"endTakeoverFromAgent";case 3:return"stopAgent";default:return"none"}}e.decode=u})(Ve||(Ve={}));class v{}b(v,"interfaceName","web.bridge.ConversationController"),b(v,"interfaceVersion",2);(e=>{let s;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size)}d.measure=g;function h(o,p){o.setEnumValue(Ee,0,p.windowStyle)}d.encode=h;function _(o,p){return{windowStyle:F(o.getEnumValue(Ee,0))}}d.decode=_})(s=e.ConversationController_SetWindowStyle_Params||(e.ConversationController_SetWindowStyle_Params={}));let u;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forString(o.modelSlug))}d.measure=g;function h(o,p){o.setString(0,p.modelSlug)}d.encode=h;function _(o,p){return{modelSlug:F(o.getString(0))}}d.decode=_})(u=e.ConversationController_SetModel_Params||(e.ConversationController_SetModel_Params={}));let R;(d=>{d.VERSION_INFO=[{version:0,size:8}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size)}d.measure=g;function h(o,p){}d.encode=h;function _(o,p){return{}}d.decode=_})(R=e.ConversationController_NewConversation_Params||(e.ConversationController_NewConversation_Params={}));let t;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forString(o.remoteConversationId))}d.measure=g;function h(o,p){o.setString(0,p.remoteConversationId)}d.encode=h;function _(o,p){return{remoteConversationId:F(o.getString(0))}}d.decode=_})(t=e.ConversationController_LoadConversation_Params||(e.ConversationController_LoadConversation_Params={}));let c;(d=>{d.VERSION_INFO=[{version:0,size:32}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forString(o.prompt)).add(f.forStringArray(o.systemHints)).add(f.forString(o.modelSlug))}d.measure=g;function h(o,p){o.setString(0,p.prompt),o.setStringArray(8,p.systemHints),o.setString(16,p.modelSlug)}d.encode=h;function _(o,p){return{prompt:F(o.getString(0)),systemHints:F(X(o.getStringArray(8))),modelSlug:F(o.getString(16))}}d.decode=_})(c=e.ConversationController_RequestCompletion_Params||(e.ConversationController_RequestCompletion_Params={}));let O;(d=>{d.VERSION_INFO=[{version:0,size:24}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){var p,y;return f.bytes(d.CURRENT_VERSION.size).add(f.forString((p=o.userMessage)!=null?p:null)).add(f.forString((y=o.targetedReply)!=null?y:null))}d.measure=g;function h(o,p){var y,D;o.setString(0,(y=p.userMessage)!=null?y:null),o.setString(8,(D=p.targetedReply)!=null?D:null)}d.encode=h;function _(o,p){const y=o.getString(0),D=o.getString(8);return q(q({},y!==null?{userMessage:y}:{}),D!==null?{targetedReply:D}:{})}d.decode=_})(O=e.ConversationController_PopulatePrompt_Params||(e.ConversationController_PopulatePrompt_Params={}));let r;(d=>{d.VERSION_INFO=[{version:0,size:32},{version:1,size:40},{version:2,size:48}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){var p,y;return f.bytes(d.CURRENT_VERSION.size).add(f.forString(o.url)).add(f.forString(o.title)).add(f.forString((p=o.base64favicon)!=null?p:null)).add(f.forString((y=o.selection)!=null?y:null))}d.measure=g;function h(o,p){var D,H;let y=0;o.setString(0,p.url),o.setString(8,p.title),o.setString(16,(D=p.base64favicon)!=null?D:null),o.setString(24,(H=p.selection)!=null?H:null),p.blocked!==null&&p.blocked!==void 0&&(y|=1,p.blocked&&(y|=2)),o.setU8(32,y)}d.encode=h;function _(o,p){const y=o.getString(16),D=p>=1?o.getString(24):null,H=p>=2?o.getU8(32):0,qe=(H&1)!=0;return q(q(q({url:F(o.getString(0)),title:F(o.getString(8))},y!==null?{base64favicon:y}:{}),D!==null?{selection:D}:{}),qe?{blocked:(H&2)!=0}:{})}d.decode=_})(r=e.ConversationController_UpdateContext_Params||(e.ConversationController_UpdateContext_Params={}));let i;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forObject(C,o.details))}d.measure=g;function h(o,p){o.setObjectIndirect(C,0,p.details)}d.encode=h;function _(o,p){return{details:F(o.getObjectIndirect(C,0))}}d.decode=_})(i=e.ConversationController_PrepareConversation_Params||(e.ConversationController_PrepareConversation_Params={}));let I;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forObject(ee,o.options))}d.measure=g;function h(o,p){o.setObjectIndirect(ee,0,p.options)}d.encode=h;function _(o,p){return{options:F(o.getObjectIndirect(ee,0))}}d.decode=_})(I=e.ConversationController_SetSuperWidgetOptions_Params||(e.ConversationController_SetSuperWidgetOptions_Params={}));let n;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forObjectArray(te,o.attachments))}d.measure=g;function h(o,p){o.setObjectArray(te,0,p.attachments)}d.encode=h;function _(o,p){return{attachments:F(X(o.getObjectArray(te,0)))}}d.decode=_})(n=e.ConversationController_SetAttachments_Params||(e.ConversationController_SetAttachments_Params={}));let N;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forString(o.to))}d.measure=g;function h(o,p){o.setString(0,p.to)}d.encode=h;function _(o,p){return{to:F(o.getString(0))}}d.decode=_})(N=e.ConversationController_Navigate_Params||(e.ConversationController_Navigate_Params={}));let E;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forObject(K,o.whisperContent))}d.measure=g;function h(o,p){o.setObjectIndirect(K,0,p.whisperContent)}d.encode=h;function _(o,p){return{whisperContent:F(o.getObjectIndirect(K,0))}}d.decode=_})(E=e.ConversationController_SetWhisperContent_Params||(e.ConversationController_SetWhisperContent_Params={}));let V;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forObjectArray(ne,o.tabs))}d.measure=g;function h(o,p){o.setObjectArray(ne,0,p.tabs)}d.encode=h;function _(o,p){return{tabs:F(X(o.getObjectArray(ne,0)))}}d.decode=_})(V=e.ConversationController_SetTabContext_Params||(e.ConversationController_SetTabContext_Params={}));let S;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forString(o.origin))}d.measure=g;function h(o,p){o.setString(0,p.origin)}d.encode=h;function _(o,p){return{origin:F(o.getString(0))}}d.decode=_})(S=e.ConversationController_SetPromptOrigin_Params||(e.ConversationController_SetPromptOrigin_Params={}));let w;(d=>{d.VERSION_INFO=[{version:0,size:8}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size)}d.measure=g;function h(o,p){}d.encode=h;function _(o,p){return{}}d.decode=_})(w=e.ConversationController_CloseNavigationSidebar_Params||(e.ConversationController_CloseNavigationSidebar_Params={}));let T;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size)}d.measure=g;function h(o,p){o.setEnumValue(he,0,p.theme)}d.encode=h;function _(o,p){return{theme:F(o.getEnumValue(he,0))}}d.decode=_})(T=e.ConversationController_SetChatTheme_Params||(e.ConversationController_SetChatTheme_Params={}));let M;(d=>{d.VERSION_INFO=[{version:0,size:8}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size)}d.measure=g;function h(o,p){}d.encode=h;function _(o,p){return{}}d.decode=_})(M=e.ConversationController_ShowSearch_Params||(e.ConversationController_ShowSearch_Params={}));let B;(d=>{d.VERSION_INFO=[{version:0,size:24}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forString(o.query)).add(f.forString(o.navlinksEvent))}d.measure=g;function h(o,p){o.setString(0,p.query),o.setString(8,p.navlinksEvent)}d.encode=h;function _(o,p){return{query:F(o.getString(0)),navlinksEvent:F(o.getString(8))}}d.decode=_})(B=e.ConversationController_PopulateNavlinks_Params||(e.ConversationController_PopulateNavlinks_Params={}));let W;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size)}d.measure=g;function h(o,p){o.setEnumValue(Ve,0,p.request)}d.encode=h;function _(o,p){return{request:F(o.getEnumValue(Ve,0))}}d.decode=_})(W=e.ConversationController_HandleAgentRequest_Params||(e.ConversationController_HandleAgentRequest_Params={}));let ye;(d=>{d.VERSION_INFO=[{version:0,size:32}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function g(o){return f.bytes(d.CURRENT_VERSION.size).add(f.forString(o.name)).add(f.forNumericArray(Uint8Array,o.bytes)).add(f.forString(o.mimeType))}d.measure=g;function h(o,p){o.setString(0,p.name),o.setNumericArray(Uint8Array,8,p.bytes),o.setString(16,p.mimeType)}d.encode=h;function _(o,p){return{name:F(o.getString(0)),bytes:F(o.getNumericArray(Uint8Array,8)),mimeType:F(o.getString(16))}}d.decode=_})(ye=e.ConversationController_AttachUserFile_Params||(e.ConversationController_AttachUserFile_Params={}));class we{constructor(g){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(g.endpointState,!0),this._version=2}static create(){const[g,h]=x.createChannel(e);return[new we(g),h]}static createToBrowser(){const[g,h]=this.create();return Mojo.bindInterface(e.interfaceName,h.pipe.rawHandle),g}setWindowStyle(g){const h={windowStyle:g};this._endpoint.send(U.encode(0,z.None,s,h))}setModel(g){const h={modelSlug:g};this._endpoint.send(U.encode(1,z.None,u,h))}newConversation(){const g={};this._endpoint.send(U.encode(2,z.None,R,g))}loadConversation(g){const h={remoteConversationId:g};this._endpoint.send(U.encode(3,z.None,t,h))}requestCompletion(g,h,_){const o={prompt:g,systemHints:h,modelSlug:_};this._endpoint.send(U.encode(4,z.None,c,o))}populatePrompt(g,h){const _={userMessage:g,targetedReply:h};this._endpoint.send(U.encode(5,z.None,O,_))}updateContext(g,h,_,o,p){const y={url:g,title:h,base64favicon:_,selection:o,blocked:p};this._endpoint.send(U.encode(6,z.None,r,y))}prepareConversation(g){const h={details:g};this._endpoint.send(U.encode(7,z.None,i,h))}setSuperWidgetOptions(g){const h={options:g};this._endpoint.send(U.encode(8,z.None,I,h))}setAttachments(g){const h={attachments:g};this._endpoint.send(U.encode(9,z.None,n,h))}navigate(g){const h={to:g};this._endpoint.send(U.encode(10,z.None,N,h))}setWhisperContent(g){const h={whisperContent:g};this._endpoint.send(U.encode(11,z.None,E,h))}setTabContext(g){const h={tabs:g};this._endpoint.send(U.encode(12,z.None,V,h))}setPromptOrigin(g){const h={origin:g};this._endpoint.send(U.encode(13,z.None,S,h))}closeNavigationSidebar(){const g={};this._endpoint.send(U.encode(14,z.None,w,g))}setChatTheme(g){const h={theme:g};this._endpoint.send(U.encode(15,z.None,T,h))}showSearch(){const g={};this._endpoint.send(U.encode(16,z.None,M,g))}populateNavlinks(g,h){const _={query:g,navlinksEvent:h};this._endpoint.send(U.encode(17,z.None,B,_))}handleAgentRequest(g){const h={request:g};this._endpoint.send(U.encode(18,z.None,W,h))}attachUserFile(g,h,_){const o={name:g,bytes:h,mimeType:_};this._endpoint.send(U.encode(19,z.None,ye,o))}}e.Proxy=we;class Te extends k{constructor(){super(e);b(this,"onDisconnect")}bind(h,_){this.addReceiver(_,async(o,p)=>{switch(o.header.ordinal){case 0:{const y=o.decode(s);h.setWindowStyle(y.windowStyle);break}case 1:{const y=o.decode(u);h.setModel(y.modelSlug);break}case 2:{o.decode(R),h.newConversation();break}case 3:{const y=o.decode(t);h.loadConversation(y.remoteConversationId);break}case 4:{const y=o.decode(c);h.requestCompletion(y.prompt,y.systemHints,y.modelSlug);break}case 5:{const y=o.decode(O);h.populatePrompt(y.userMessage,y.targetedReply);break}case 6:{const y=o.decode(r);h.updateContext(y.url,y.title,y.base64favicon,y.selection,y.blocked);break}case 7:{const y=o.decode(i);h.prepareConversation(y.details);break}case 8:{const y=o.decode(I);h.setSuperWidgetOptions(y.options);break}case 9:{const y=o.decode(n);h.setAttachments(y.attachments);break}case 10:{const y=o.decode(N);h.navigate(y.to);break}case 11:{const y=o.decode(E);h.setWhisperContent(y.whisperContent);break}case 12:{const y=o.decode(V);h.setTabContext(y.tabs);break}case 13:{const y=o.decode(S);h.setPromptOrigin(y.origin);break}case 14:{o.decode(w),h.closeNavigationSidebar();break}case 15:{const y=o.decode(T);h.setChatTheme(y.theme);break}case 16:{o.decode(M),h.showSearch();break}case 17:{const y=o.decode(B);h.populateNavlinks(y.query,y.navlinksEvent);break}case 18:{const y=o.decode(W);h.handleAgentRequest(y.request);break}case 19:{const y=o.decode(ye);h.attachUserFile(y.name,y.bytes,y.mimeType);break}default:o.header.expectsResponse&&p.sendUnimplementedResponse(o.header.requestID,o.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(h)})}createRemote(h){const[_,o]=x.createChannel(e);return this.bind(h,o),_}}e.Dispatcher=Te})(v||(v={}));class ge{}b(ge,"interfaceName","web.bridge.GenericInterface"),b(ge,"interfaceVersion",0);(e=>{let s;(c=>{c.VERSION_INFO=[{version:0,size:16}],c.CURRENT_VERSION=c.VERSION_INFO[c.VERSION_INFO.length-1];function O(I){return f.bytes(c.CURRENT_VERSION.size).add(f.forString(I.request))}c.measure=O;function r(I,n){I.setString(0,n.request)}c.encode=r;function i(I,n){return{request:F(I.getString(0))}}c.decode=i})(s=e.GenericInterface_AcceptMessage_Params||(e.GenericInterface_AcceptMessage_Params={}));let u;(c=>{c.VERSION_INFO=[{version:0,size:16}],c.CURRENT_VERSION=c.VERSION_INFO[c.VERSION_INFO.length-1];function O(I){var n;return f.bytes(c.CURRENT_VERSION.size).add(f.forString((n=I.response)!=null?n:null))}c.measure=O;function r(I,n){var N;I.setString(0,(N=n.response)!=null?N:null)}c.encode=r;function i(I,n){const N=I.getString(0);return q({},N!==null?{response:N}:{})}c.decode=i})(u=e.GenericInterface_AcceptMessage_ResponseParams||(e.GenericInterface_AcceptMessage_ResponseParams={}));class R{constructor(O){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(O.endpointState,!0),this._version=0}static create(){const[O,r]=x.createChannel(e);return[new R(O),r]}static createToBrowser(){const[O,r]=this.create();return Mojo.bindInterface(e.interfaceName,r.pipe.rawHandle),O}async acceptMessage(O){const r={request:O};return(await this._endpoint.sendAndAwaitResponse(U.encode(0,z.None,s,r))).decode(u).response}}e.Proxy=R;class t extends k{constructor(){super(e);b(this,"onDisconnect")}bind(r,i){this.addReceiver(i,async(I,n)=>{switch(I.header.ordinal){case 0:{const N=I.decode(s),E=r.acceptMessage(N.request),V=n.createResponder(u,0,I.header.requestID),S=await E;V({response:S});break}default:I.header.expectsResponse&&n.sendUnimplementedResponse(I.header.requestID,I.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(r)})}createRemote(r){const[i,I]=x.createChannel(e);return this.bind(r,I),i}}e.Dispatcher=t})(ge||(ge={}));class oe{}b(oe,"interfaceName","web.bridge.LinkHandler"),b(oe,"interfaceVersion",0);(e=>{let s;(t=>{t.VERSION_INFO=[{version:0,size:24}],t.CURRENT_VERSION=t.VERSION_INFO[t.VERSION_INFO.length-1];function c(i){return f.bytes(t.CURRENT_VERSION.size).add(f.forString(i.url)).add(f.forString(i.target))}t.measure=c;function O(i,I){i.setString(0,I.url),i.setString(8,I.target)}t.encode=O;function r(i,I){return{url:F(i.getString(0)),target:F(i.getString(8))}}t.decode=r})(s=e.LinkHandler_HandleLink_Params||(e.LinkHandler_HandleLink_Params={}));class u{constructor(c){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(c.endpointState,!0),this._version=0}static create(){const[c,O]=x.createChannel(e);return[new u(c),O]}static createToBrowser(){const[c,O]=this.create();return Mojo.bindInterface(e.interfaceName,O.pipe.rawHandle),c}handleLink(c,O){const r={url:c,target:O};this._endpoint.send(U.encode(0,z.None,s,r))}}e.Proxy=u;class R extends k{constructor(){super(e);b(this,"onDisconnect")}bind(O,r){this.addReceiver(r,async(i,I)=>{switch(i.header.ordinal){case 0:{const n=i.decode(s);O.handleLink(n.url,n.target);break}default:i.header.expectsResponse&&I.sendUnimplementedResponse(i.header.requestID,i.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(O)})}createRemote(O){const[r,i]=x.createChannel(e);return this.bind(O,i),r}}e.Dispatcher=R})(oe||(oe={}));var ce;(e=>{e.VERSION_INFO=[{version:0,size:24}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.author)).add(f.forString(t.message))}e.measure=s;function u(t,c){t.setString(0,c.author),t.setString(8,c.message)}e.encode=u;function R(t,c){return{author:F(t.getString(0)),message:F(t.getString(8))}}e.decode=R})(ce||(ce={}));class l{}b(l,"interfaceName","web.bridge.LocalToolHandler"),b(l,"interfaceVersion",0);(e=>{let s;(r=>{r.VERSION_INFO=[{version:0,size:24}],r.CURRENT_VERSION=r.VERSION_INFO[r.VERSION_INFO.length-1];function i(N){return f.bytes(r.CURRENT_VERSION.size).add(f.forString(N.toolname)).add(f.forString(N.args))}r.measure=i;function I(N,E){N.setString(0,E.toolname),N.setString(8,E.args)}r.encode=I;function n(N,E){return{toolname:F(N.getString(0)),args:F(N.getString(8))}}r.decode=n})(s=e.LocalToolHandler_CallLocalTool_Params||(e.LocalToolHandler_CallLocalTool_Params={}));let u;(r=>{r.VERSION_INFO=[{version:0,size:16}],r.CURRENT_VERSION=r.VERSION_INFO[r.VERSION_INFO.length-1];function i(N){return f.bytes(r.CURRENT_VERSION.size).add(f.forObjectArray(ce,N.response))}r.measure=i;function I(N,E){N.setObjectArray(ce,0,E.response)}r.encode=I;function n(N,E){return{response:F(X(N.getObjectArray(ce,0)))}}r.decode=n})(u=e.LocalToolHandler_CallLocalTool_ResponseParams||(e.LocalToolHandler_CallLocalTool_ResponseParams={}));let R;(r=>{r.VERSION_INFO=[{version:0,size:8}],r.CURRENT_VERSION=r.VERSION_INFO[r.VERSION_INFO.length-1];function i(N){return f.bytes(r.CURRENT_VERSION.size)}r.measure=i;function I(N,E){}r.encode=I;function n(N,E){return{}}r.decode=n})(R=e.LocalToolHandler_GetToolNames_Params||(e.LocalToolHandler_GetToolNames_Params={}));let t;(r=>{r.VERSION_INFO=[{version:0,size:16}],r.CURRENT_VERSION=r.VERSION_INFO[r.VERSION_INFO.length-1];function i(N){return f.bytes(r.CURRENT_VERSION.size).add(f.forStringArray(N.toolnames))}r.measure=i;function I(N,E){N.setStringArray(0,E.toolnames)}r.encode=I;function n(N,E){return{toolnames:F(X(N.getStringArray(0)))}}r.decode=n})(t=e.LocalToolHandler_GetToolNames_ResponseParams||(e.LocalToolHandler_GetToolNames_ResponseParams={}));class c{constructor(i){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(i.endpointState,!0),this._version=0}static create(){const[i,I]=x.createChannel(e);return[new c(i),I]}static createToBrowser(){const[i,I]=this.create();return Mojo.bindInterface(e.interfaceName,I.pipe.rawHandle),i}async callLocalTool(i,I){const n={toolname:i,args:I};return(await this._endpoint.sendAndAwaitResponse(U.encode(0,z.None,s,n))).decode(u).response}async getToolNames(){const i={};return(await this._endpoint.sendAndAwaitResponse(U.encode(1,z.None,R,i))).decode(t).toolnames}}e.Proxy=c;class O extends k{constructor(){super(e);b(this,"onDisconnect")}bind(I,n){this.addReceiver(n,async(N,E)=>{switch(N.header.ordinal){case 0:{const V=N.decode(s),S=I.callLocalTool(V.toolname,V.args),w=E.createResponder(u,0,N.header.requestID),T=await S;w({response:T});break}case 1:{N.decode(R);const V=I.getToolNames(),S=E.createResponder(t,1,N.header.requestID),w=await V;S({toolnames:w});break}default:N.header.expectsResponse&&E.sendUnimplementedResponse(N.header.requestID,N.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(I)})}createRemote(I){const[n,N]=x.createChannel(e);return this.bind(I,N),n}}e.Dispatcher=O})(l||(l={}));var Y;(e=>{e.VERSION_INFO=[{version:0,size:24}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){var c;return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.clientId)).add(f.forString((c=t.serverId)!=null?c:null))}e.measure=s;function u(t,c){var O;t.setString(0,c.clientId),t.setString(8,(O=c.serverId)!=null?O:null)}e.encode=u;function R(t,c){const O=t.getString(8);return q({clientId:F(t.getString(0))},O!==null?{serverId:O}:{})}e.decode=R})(Y||(Y={}));var Z;(e=>{e.VERSION_INFO=[{version:0,size:32}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){var c;return f.bytes(e.CURRENT_VERSION.size).add(f.forString((c=t.title)!=null?c:null))}e.measure=s;function u(t,c){var r;let O=0;t.setString(0,(r=c.title)!=null?r:null),c.updateTimestampMsSince1970!==null&&c.updateTimestampMsSince1970!==void 0&&(O|=1,t.setF64(16,c.updateTimestampMsSince1970)),c.status!==null&&c.status!==void 0&&(O|=2,t.setEnumValue(pe,12,c.status)),t.setU8(8,O)}e.encode=u;function R(t,c){const O=t.getString(0),r=t.getU8(8),i=(r&1)!=0,I=(r&2)!=0;return q(q(q({},O!==null?{title:O}:{}),i?{updateTimestampMsSince1970:F(t.getF64(16))}:{}),I?{status:F(t.getEnumValue(pe,12))}:{})}e.decode=R})(Z||(Z={}));var pe;(e=>{function s(R){if(R==="none")return 0;if(R==="inProgress")return 1;if(R==="done")return 2;throw new $}e.encode=s;function u(R){switch(R){case 0:return"none";case 1:return"inProgress";case 2:return"done";default:return"none"}}e.decode=u})(pe||(pe={}));class Ne{}b(Ne,"interfaceName","web.bridge.NavigationSidebarController"),b(Ne,"interfaceVersion",0);(e=>{let s;(n=>{n.VERSION_INFO=[{version:0,size:16}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size)}n.measure=N;function E(S,w){let T=0;w.visible&&(T|=1),S.setU8(0,T)}n.encode=E;function V(S,w){return{visible:(S.getU8(0)&1)!=0}}n.decode=V})(s=e.NavigationSidebarController_SetSidebarVisibility_Params||(e.NavigationSidebarController_SetSidebarVisibility_Params={}));let u;(n=>{n.VERSION_INFO=[{version:0,size:8}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size)}n.measure=N;function E(S,w){}n.encode=E;function V(S,w){return{}}n.decode=V})(u=e.NavigationSidebarController_ToggleSidebarVisibility_Params||(e.NavigationSidebarController_ToggleSidebarVisibility_Params={}));let R;(n=>{n.VERSION_INFO=[{version:0,size:8}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size)}n.measure=N;function E(S,w){}n.encode=E;function V(S,w){return{}}n.decode=V})(R=e.NavigationSidebarController_NewConversation_Params||(e.NavigationSidebarController_NewConversation_Params={}));let t;(n=>{n.VERSION_INFO=[{version:0,size:24}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size).add(f.forObject(Y,S.id)).add(f.forObject(Z,S.data))}n.measure=N;function E(S,w){S.setObjectIndirect(Y,0,w.id),S.setObjectIndirect(Z,8,w.data)}n.encode=E;function V(S,w){return{id:F(S.getObjectIndirect(Y,0)),data:F(S.getObjectIndirect(Z,8))}}n.decode=V})(t=e.NavigationSidebarController_AddConversationHistoryItem_Params||(e.NavigationSidebarController_AddConversationHistoryItem_Params={}));let c;(n=>{n.VERSION_INFO=[{version:0,size:24}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size).add(f.forObject(Y,S.id)).add(f.forObject(Z,S.data))}n.measure=N;function E(S,w){S.setObjectIndirect(Y,0,w.id),S.setObjectIndirect(Z,8,w.data)}n.encode=E;function V(S,w){return{id:F(S.getObjectIndirect(Y,0)),data:F(S.getObjectIndirect(Z,8))}}n.decode=V})(c=e.NavigationSidebarController_UpdateConversationHistoryItem_Params||(e.NavigationSidebarController_UpdateConversationHistoryItem_Params={}));let O;(n=>{n.VERSION_INFO=[{version:0,size:8}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size)}n.measure=N;function E(S,w){}n.encode=E;function V(S,w){return{}}n.decode=V})(O=e.NavigationSidebarController_GetSidebarVisibility_Params||(e.NavigationSidebarController_GetSidebarVisibility_Params={}));let r;(n=>{n.VERSION_INFO=[{version:0,size:16}],n.CURRENT_VERSION=n.VERSION_INFO[n.VERSION_INFO.length-1];function N(S){return f.bytes(n.CURRENT_VERSION.size)}n.measure=N;function E(S,w){let T=0;w.visible&&(T|=1),S.setU8(0,T)}n.encode=E;function V(S,w){return{visible:(S.getU8(0)&1)!=0}}n.decode=V})(r=e.NavigationSidebarController_GetSidebarVisibility_ResponseParams||(e.NavigationSidebarController_GetSidebarVisibility_ResponseParams={}));class i{constructor(N){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(N.endpointState,!0),this._version=0}static create(){const[N,E]=x.createChannel(e);return[new i(N),E]}static createToBrowser(){const[N,E]=this.create();return Mojo.bindInterface(e.interfaceName,E.pipe.rawHandle),N}setSidebarVisibility(N){const E={visible:N};this._endpoint.send(U.encode(0,z.None,s,E))}toggleSidebarVisibility(){const N={};this._endpoint.send(U.encode(1,z.None,u,N))}newConversation(){const N={};this._endpoint.send(U.encode(2,z.None,R,N))}addConversationHistoryItem(N,E){const V={id:N,data:E};this._endpoint.send(U.encode(3,z.None,t,V))}updateConversationHistoryItem(N,E){const V={id:N,data:E};this._endpoint.send(U.encode(4,z.None,c,V))}async getSidebarVisibility(){const N={};return(await this._endpoint.sendAndAwaitResponse(U.encode(5,z.None,O,N))).decode(r).visible}}e.Proxy=i;class I extends k{constructor(){super(e);b(this,"onDisconnect")}bind(E,V){this.addReceiver(V,async(S,w)=>{switch(S.header.ordinal){case 0:{const T=S.decode(s);E.setSidebarVisibility(T.visible);break}case 1:{S.decode(u),E.toggleSidebarVisibility();break}case 2:{S.decode(R),E.newConversation();break}case 3:{const T=S.decode(t);E.addConversationHistoryItem(T.id,T.data);break}case 4:{const T=S.decode(c);E.updateConversationHistoryItem(T.id,T.data);break}case 5:{S.decode(O);const T=E.getSidebarVisibility(),M=w.createResponder(r,5,S.header.requestID),B=await T;M({visible:B});break}default:S.header.expectsResponse&&w.sendUnimplementedResponse(S.header.requestID,S.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(E)})}createRemote(E){const[V,S]=x.createChannel(e);return this.bind(E,S),V}}e.Dispatcher=I})(Ne||(Ne={}));var be;(e=>{function s(R){if(R==="general")return 0;if(R==="personalization")return 1;if(R==="searchEngines")return 2;if(R==="dataControls")return 3;if(R==="modelTraining")return 4;if(R==="autofill")return 5;throw new $}e.encode=s;function u(R){switch(R){case 0:return"general";case 1:return"personalization";case 2:return"searchEngines";case 3:return"dataControls";case 4:return"modelTraining";case 5:return"autofill";default:return"general"}}e.decode=u})(be||(be={}));class Re{}b(Re,"interfaceName","web.bridge.OpenSettingsController"),b(Re,"interfaceVersion",0);(e=>{let s;(t=>{t.VERSION_INFO=[{version:0,size:16}],t.CURRENT_VERSION=t.VERSION_INFO[t.VERSION_INFO.length-1];function c(i){return f.bytes(t.CURRENT_VERSION.size)}t.measure=c;function O(i,I){let n=0;I.tab!==null&&I.tab!==void 0&&(n|=1,i.setEnumValue(be,4,I.tab)),i.setU8(0,n)}t.encode=O;function r(i,I){const N=(i.getU8(0)&1)!=0;return q({},N?{tab:F(i.getEnumValue(be,4))}:{})}t.decode=r})(s=e.OpenSettingsController_OpenSettings_Params||(e.OpenSettingsController_OpenSettings_Params={}));class u{constructor(c){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(c.endpointState,!0),this._version=0}static create(){const[c,O]=x.createChannel(e);return[new u(c),O]}static createToBrowser(){const[c,O]=this.create();return Mojo.bindInterface(e.interfaceName,O.pipe.rawHandle),c}openSettings(c){const O={tab:c};this._endpoint.send(U.encode(0,z.None,s,O))}}e.Proxy=u;class R extends k{constructor(){super(e);b(this,"onDisconnect")}bind(O,r){this.addReceiver(r,async(i,I)=>{switch(i.header.ordinal){case 0:{const n=i.decode(s);O.openSettings(n.tab);break}default:i.header.expectsResponse&&I.sendUnimplementedResponse(i.header.requestID,i.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(O)})}createRemote(O){const[r,i]=x.createChannel(e);return this.bind(O,i),r}}e.Dispatcher=R})(Re||(Re={}));var Fe;(e=>{function s(R){if(R==="messageSent")return 0;if(R==="addTabContext")return 1;if(R==="removeTabContext")return 2;throw new $}e.encode=s;function u(R){switch(R){case 0:return"messageSent";case 1:return"addTabContext";case 2:return"removeTabContext";default:return"messageSent"}}e.decode=u})(Fe||(Fe={}));class Ie{}b(Ie,"interfaceName","web.bridge.ProductEventHandler"),b(Ie,"interfaceVersion",0);(e=>{let s;(t=>{t.VERSION_INFO=[{version:0,size:16}],t.CURRENT_VERSION=t.VERSION_INFO[t.VERSION_INFO.length-1];function c(i){return f.bytes(t.CURRENT_VERSION.size)}t.measure=c;function O(i,I){i.setEnumValue(Fe,0,I.eventName)}t.encode=O;function r(i,I){return{eventName:F(i.getEnumValue(Fe,0))}}t.decode=r})(s=e.ProductEventHandler_TriggerProductEvent_Params||(e.ProductEventHandler_TriggerProductEvent_Params={}));class u{constructor(c){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(c.endpointState,!0),this._version=0}static create(){const[c,O]=x.createChannel(e);return[new u(c),O]}static createToBrowser(){const[c,O]=this.create();return Mojo.bindInterface(e.interfaceName,O.pipe.rawHandle),c}triggerProductEvent(c){const O={eventName:c};this._endpoint.send(U.encode(0,z.None,s,O))}}e.Proxy=u;class R extends k{constructor(){super(e);b(this,"onDisconnect")}bind(O,r){this.addReceiver(r,async(i,I)=>{switch(i.header.ordinal){case 0:{const n=i.decode(s);O.triggerProductEvent(n.eventName);break}default:i.header.expectsResponse&&I.sendUnimplementedResponse(i.header.requestID,i.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(O)})}createRemote(O){const[r,i]=x.createChannel(e);return this.bind(O,i),r}}e.Dispatcher=R})(Ie||(Ie={}));class Q{}b(Q,"interfaceName","web.bridge.DesktopSidebarController"),b(Q,"interfaceVersion",0);(e=>{let s;(i=>{i.VERSION_INFO=[{version:0,size:8}],i.CURRENT_VERSION=i.VERSION_INFO[i.VERSION_INFO.length-1];function I(E){return f.bytes(i.CURRENT_VERSION.size)}i.measure=I;function n(E,V){}i.encode=n;function N(E,V){return{}}i.decode=N})(s=e.DesktopSidebarController_CloseSidebar_Params||(e.DesktopSidebarController_CloseSidebar_Params={}));let u;(i=>{i.VERSION_INFO=[{version:0,size:8}],i.CURRENT_VERSION=i.VERSION_INFO[i.VERSION_INFO.length-1];function I(E){return f.bytes(i.CURRENT_VERSION.size)}i.measure=I;function n(E,V){}i.encode=n;function N(E,V){return{}}i.decode=N})(u=e.DesktopSidebarController_CanHideHeader_Params||(e.DesktopSidebarController_CanHideHeader_Params={}));let R;(i=>{i.VERSION_INFO=[{version:0,size:16}],i.CURRENT_VERSION=i.VERSION_INFO[i.VERSION_INFO.length-1];function I(E){return f.bytes(i.CURRENT_VERSION.size)}i.measure=I;function n(E,V){let S=0;V.canHideHeader&&(S|=1),E.setU8(0,S)}i.encode=n;function N(E,V){return{canHideHeader:(E.getU8(0)&1)!=0}}i.decode=N})(R=e.DesktopSidebarController_CanHideHeader_ResponseParams||(e.DesktopSidebarController_CanHideHeader_ResponseParams={}));let t;(i=>{i.VERSION_INFO=[{version:0,size:8}],i.CURRENT_VERSION=i.VERSION_INFO[i.VERSION_INFO.length-1];function I(E){return f.bytes(i.CURRENT_VERSION.size)}i.measure=I;function n(E,V){}i.encode=n;function N(E,V){return{}}i.decode=N})(t=e.DesktopSidebarController_BecomeMainPage_Params||(e.DesktopSidebarController_BecomeMainPage_Params={}));let c;(i=>{i.VERSION_INFO=[{version:0,size:8}],i.CURRENT_VERSION=i.VERSION_INFO[i.VERSION_INFO.length-1];function I(E){return f.bytes(i.CURRENT_VERSION.size)}i.measure=I;function n(E,V){}i.encode=n;function N(E,V){return{}}i.decode=N})(c=e.DesktopSidebarController_OpenInNewTab_Params||(e.DesktopSidebarController_OpenInNewTab_Params={}));class O{constructor(I){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(I.endpointState,!0),this._version=0}static create(){const[I,n]=x.createChannel(e);return[new O(I),n]}static createToBrowser(){const[I,n]=this.create();return Mojo.bindInterface(e.interfaceName,n.pipe.rawHandle),I}closeSidebar(){const I={};this._endpoint.send(U.encode(0,z.None,s,I))}async canHideHeader(){const I={};return(await this._endpoint.sendAndAwaitResponse(U.encode(1,z.None,u,I))).decode(R).canHideHeader}becomeMainPage(){const I={};this._endpoint.send(U.encode(2,z.None,t,I))}openInNewTab(){const I={};this._endpoint.send(U.encode(3,z.None,c,I))}}e.Proxy=O;class r extends k{constructor(){super(e);b(this,"onDisconnect")}bind(n,N){this.addReceiver(N,async(E,V)=>{switch(E.header.ordinal){case 0:{E.decode(s),n.closeSidebar();break}case 1:{E.decode(u);const S=n.canHideHeader(),w=V.createResponder(R,1,E.header.requestID),T=await S;w({canHideHeader:T});break}case 2:{E.decode(t),n.becomeMainPage();break}case 3:{E.decode(c),n.openInNewTab();break}default:E.header.expectsResponse&&V.sendUnimplementedResponse(E.header.requestID,E.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(n)})}createRemote(n){const[N,E]=x.createChannel(e);return this.bind(n,E),N}}e.Dispatcher=r})(Q||(Q={}));var se;(e=>{e.VERSION_INFO=[{version:0,size:8}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size)}e.measure=s;function u(t,c){}e.encode=u;function R(t,c){return{}}e.decode=R})(se||(se={}));var ie;(e=>{e.VERSION_INFO=[{version:0,size:48}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.id)).add(f.forString(t.fileid)).add(f.forString(t.name)).add(f.forString(t.mimetype))}e.measure=s;function u(t,c){t.setString(0,c.id),t.setString(8,c.fileid),t.setString(16,c.name),t.setU32(24,c.size),t.setString(32,c.mimetype)}e.encode=u;function R(t,c){return{id:F(t.getString(0)),fileid:F(t.getString(8)),name:F(t.getString(16)),size:F(t.getU32(24)),mimetype:F(t.getString(32))}}e.decode=R})(ie||(ie={}));var de;(e=>{e.VERSION_INFO=[{version:0,size:32}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.assetPointer))}e.measure=s;function u(t,c){t.setString(0,c.assetPointer),t.setU32(8,c.sizeBytes),t.setU32(12,c.width),t.setU32(16,c.height)}e.encode=u;function R(t,c){return{assetPointer:F(t.getString(0)),sizeBytes:F(t.getU32(8)),width:F(t.getU32(12)),height:F(t.getU32(16))}}e.decode=R})(de||(de={}));var re;(e=>{e.VERSION_INFO=[{version:0,size:32}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){var c,O,r;return f.bytes(e.CURRENT_VERSION.size).add(f.forString((c=t.content)!=null?c:null)).add(f.forString((O=t.url)!=null?O:null)).add(f.forString((r=t.title)!=null?r:null))}e.measure=s;function u(t,c){var O,r,i;t.setString(0,(O=c.content)!=null?O:null),t.setString(8,(r=c.url)!=null?r:null),t.setString(16,(i=c.title)!=null?i:null)}e.encode=u;function R(t,c){const O=t.getString(0),r=t.getString(8),i=t.getString(16);return q(q(q({},O!==null?{content:O}:{}),r!==null?{url:r}:{}),i!==null?{title:i}:{})}e.decode=R})(re||(re={}));var K;(e=>{e.VERSION_INFO=[{version:0,size:32},{version:1,size:48}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){var c,O,r,i,I;return f.bytes(e.CURRENT_VERSION.size).add(f.forString((c=t.content)!=null?c:null)).add(f.forObjectArray(ie,(O=t.files)!=null?O:null)).add(f.forObjectArray(de,(r=t.imageAssetPointers)!=null?r:null)).add(f.forObjectArray(re,(i=t.embeddedDocumentContexts)!=null?i:null)).add(f.forString((I=t.customInstructions)!=null?I:null))}e.measure=s;function u(t,c){var O,r,i,I,n;t.setString(0,(O=c.content)!=null?O:null),t.setObjectArray(ie,8,(r=c.files)!=null?r:null),t.setObjectArray(de,16,(i=c.imageAssetPointers)!=null?i:null),t.setObjectArray(re,24,(I=c.embeddedDocumentContexts)!=null?I:null),t.setString(32,(n=c.customInstructions)!=null?n:null)}e.encode=u;function R(t,c){const O=t.getString(0),r=X(t.getObjectArray(ie,8)),i=X(t.getObjectArray(de,16)),I=c>=1?X(t.getObjectArray(re,24)):null,n=c>=1?t.getString(32):null;return q(q(q(q(q({},O!==null?{content:O}:{}),r!==null?{files:r}:{}),i!==null?{imageAssetPointers:i}:{}),I!==null?{embeddedDocumentContexts:I}:{}),n!==null?{customInstructions:n}:{})}e.decode=R})(K||(K={}));var ue;(e=>{e.VERSION_INFO=[{version:0,size:32}],e.CURRENT_VERSION=e.VERSION_INFO[e.VERSION_INFO.length-1];function s(t){return f.bytes(e.CURRENT_VERSION.size).add(f.forString(t.base64image)).add(f.forString(t.mimetype)).add(f.forString(t.filename))}e.measure=s;function u(t,c){t.setString(0,c.base64image),t.setString(8,c.mimetype),t.setString(16,c.filename)}e.encode=u;function R(t,c){return{base64image:F(t.getString(0)),mimetype:F(t.getString(8)),filename:F(t.getString(16))}}e.decode=R})(ue||(ue={}));class G{}b(G,"interfaceName","web.bridge.WhisperContentProvider"),b(G,"interfaceVersion",0);(e=>{let s;(r=>{r.VERSION_INFO=[{version:0,size:16}],r.CURRENT_VERSION=r.VERSION_INFO[r.VERSION_INFO.length-1];function i(N){var E;return f.bytes(r.CURRENT_VERSION.size).add(f.forObject(se,(E=N.options)!=null?E:null))}r.measure=i;function I(N,E){var V;N.setObjectIndirect(se,0,(V=E.options)!=null?V:null)}r.encode=I;function n(N,E){const V=N.getObjectIndirect(se,0);return q({},V!==null?{options:V}:{})}r.decode=n})(s=e.WhisperContentProvider_GetWhisperContent_Params||(e.WhisperContentProvider_GetWhisperContent_Params={}));let u;(r=>{r.VERSION_INFO=[{version:0,size:16}],r.CURRENT_VERSION=r.VERSION_INFO[r.VERSION_INFO.length-1];function i(N){var E;return f.bytes(r.CURRENT_VERSION.size).add(f.forObject(K,(E=N.content)!=null?E:null))}r.measure=i;function I(N,E){var V;N.setObjectIndirect(K,0,(V=E.content)!=null?V:null)}r.encode=I;function n(N,E){const V=N.getObjectIndirect(K,0);return q({},V!==null?{content:V}:{})}r.decode=n})(u=e.WhisperContentProvider_GetWhisperContent_ResponseParams||(e.WhisperContentProvider_GetWhisperContent_ResponseParams={}));let R;(r=>{r.VERSION_INFO=[{version:0,size:8}],r.CURRENT_VERSION=r.VERSION_INFO[r.VERSION_INFO.length-1];function i(N){return f.bytes(r.CURRENT_VERSION.size)}r.measure=i;function I(N,E){}r.encode=I;function n(N,E){return{}}r.decode=n})(R=e.WhisperContentProvider_GetTabScreenshot_Params||(e.WhisperContentProvider_GetTabScreenshot_Params={}));let t;(r=>{r.VERSION_INFO=[{version:0,size:16}],r.CURRENT_VERSION=r.VERSION_INFO[r.VERSION_INFO.length-1];function i(N){var E;return f.bytes(r.CURRENT_VERSION.size).add(f.forObject(ue,(E=N.screenshot)!=null?E:null))}r.measure=i;function I(N,E){var V;N.setObjectIndirect(ue,0,(V=E.screenshot)!=null?V:null)}r.encode=I;function n(N,E){const V=N.getObjectIndirect(ue,0);return q({},V!==null?{screenshot:V}:{})}r.decode=n})(t=e.WhisperContentProvider_GetTabScreenshot_ResponseParams||(e.WhisperContentProvider_GetTabScreenshot_ResponseParams={}));class c{constructor(i){b(this,"_endpoint");b(this,"_version");this._endpoint=new m(i.endpointState,!0),this._version=0}static create(){const[i,I]=x.createChannel(e);return[new c(i),I]}static createToBrowser(){const[i,I]=this.create();return Mojo.bindInterface(e.interfaceName,I.pipe.rawHandle),i}async getWhisperContent(i){const I={options:i};return(await this._endpoint.sendAndAwaitResponse(U.encode(0,z.None,s,I))).decode(u).content}async getTabScreenshot(){const i={};return(await this._endpoint.sendAndAwaitResponse(U.encode(1,z.None,R,i))).decode(t).screenshot}}e.Proxy=c;class O extends k{constructor(){super(e);b(this,"onDisconnect")}bind(I,n){this.addReceiver(n,async(N,E)=>{switch(N.header.ordinal){case 0:{const V=N.decode(s),S=I.getWhisperContent(V.options),w=E.createResponder(u,0,N.header.requestID),T=await S;w({content:T});break}case 1:{N.decode(R);const V=I.getTabScreenshot(),S=E.createResponder(t,1,N.header.requestID),w=await V;S({screenshot:w});break}default:N.header.expectsResponse&&E.sendUnimplementedResponse(N.header.requestID,N.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(I)})}createRemote(I){const[n,N]=x.createChannel(e);return this.bind(I,N),n}}e.Dispatcher=O})(G||(G={}));class Ye{constructor(s){b(this,"dispatcher");this.dispatcher=new A.Dispatcher,this.dispatcher.bind(this,s)}refreshSessionContext(s,u){a.authSessionContext={authToken:s,behavior:u},a.wantsAuthSessionContext$.set(!0)}}function Ze(e){return e==="none"||e==="sent"||e==="success"||e==="failure"}class Ke{constructor(s,u,R){b(this,"prepareState");b(this,"lastPrepareTimestamp");b(this,"conduitToken");this.prepareState=Ze(s)?s:"none",this.lastPrepareTimestamp=u-performance.timeOrigin,this.conduitToken=R}}class Qe{constructor(s){b(this,"dispatcher");this.dispatcher=new v.Dispatcher,this.dispatcher.bind(this,s)}closeNavigationSidebar(){me.setSidebarOpen(!1)}setChatTheme(s){const u=s==="default_"?"default":s;a.chatTheme=u,a.wantsSetChatTheme$.set(!0)}showSearch(){throw new Error("Method not implemented.")}setWindowStyle(s){a.windowStyle$.set(s)}setModel(s){a.wantsModelSlug$.set(s)}newConversation(){a.wantsNewConversation$.set(!0),a.selectedConversationId$.set(void 0)}loadConversation(s){a.wantsNewConversation$.set(!1),a.selectedConversationId$.set(s)}requestCompletion(s,u,R){a.requestCompletion={prompt:s,systemHints:u,modelSlug:R},a.wantsRequestCompletion$.set(!0)}populatePrompt(s,u){a.populatePrompt={userMessage:s!=null?s:null,targetedReply:u!=null?u:null},a.wantsPopulatePrompt$.set(!0)}updateContext(s,u,R,t,c){a.context$.set({id:s,url:s,title:u,base64favicon:R,selection:t,blocked:c})}prepareConversation(s){var u;a.prepareConversationDetails=new Ke(s.prepareState,s.lastPrepareTimestampMsSince1970,(u=s.conduitToken)!=null?u:void 0)}setSuperWidgetOptions(s){De.set(s.selectedTab)}setAttachments(s){a.attachments=s.map(u=>{const{id:R,name:t,size:c,mimeType:O,width:r,height:i,fileTokenSize:I}=u;return q(q(q(q(q(q(q({},R&&{id:R}),t&&{name:t}),c&&{size:typeof c=="bigint"?Number(c):c}),O&&{mime_type:O}),r&&{width:r}),i&&{height:i}),I&&{file_token_size:I})})}attachUserFile(s,u,R){a.attachUserFileRequest={name:s,bytes:u,mimeType:R},a.wantsAttachUserFile$.set(!0)}setWhisperContent(s){a.whisperContent=s}setTabContext(s){a.tabContext=s}setPromptOrigin(s){a.promptOrigin=s}navigate(s){$e(s)}populateNavlinks(s,u){const R=JSON.parse(u);Me.getState().updateFromEvent(s,R)}handleAgentRequest(s){a.agentRequest=s,a.wantsHandleAgentRequest$.set(!0)}}const Ae=6e4;class ve{constructor(s,u){b(this,"host");b(this,"logger");b(this,"lastMissingAuthTime",0);this.host=s,this.logger=u}async getAccountID(){return await this.host.getAccountID()}onMissingSessionAuth(){const s=Date.now();if(s-this.lastMissingAuthTime>Ae){this.lastMissingAuthTime=s;const[u,R]=L.Proxy.create();this.bindReceiver(R),this.logger.notice("onMissingSessionAuth.invoked"),u.handleMissingSessionAuth()}}recordAvailableSessionAuth(){const[s,u]=L.Proxy.create();this.bindReceiver(u),this.logger.notice("recordAvailableSessionAuth.invoked"),s.recordAvailableSessionAuth()}tryOpenAgentViewer(s){const[u,R]=J.Proxy.create();return this.bindReceiver(R),u.tryOpenAgentViewer(s)}userSentMessageInAgentConversation(s){const[u,R]=J.Proxy.create();this.bindReceiver(R),u.userSentMessageInAgentConversation(s)}userStoppedAgentConversation(s){const[u,R]=J.Proxy.create();this.bindReceiver(R),u.userStoppedAgentConversation(s)}openAgentTabs(s,u){const[R,t]=J.Proxy.create();this.bindReceiver(t),R.openAgentTabs(s,u)}getClientID(){const[s,u]=J.Proxy.create();return this.bindReceiver(u),s.getClientID()}becomeMainPage(){const[s,u]=Q.Proxy.create();this.bindReceiver(u),s.becomeMainPage()}openInNewTab(){const[s,u]=Q.Proxy.create();this.bindReceiver(u),s.openInNewTab()}closeSideChat(){const[s,u]=Q.Proxy.create();this.bindReceiver(u),s.closeSidebar()}async getWhisperContent(){const[s,u]=G.Proxy.create();return this.bindReceiver(u),await s.getWhisperContent({})}async getTabScreenshot(){const[s,u]=G.Proxy.create();return this.bindReceiver(u),await s.getTabScreenshot()}receivedFirstToken(){this.host.receivedFirstToken("")}async callLocalTool(s,u){const[R,t]=l.Proxy.create();return this.bindReceiver(t),await R.callLocalTool(s,u)}bindReceiver(s){this.host.bindReceiver(s.interfaceType.interfaceName,s.pipe)}async getToolNames(){const[s,u]=l.Proxy.create();return this.bindReceiver(u),await s.getToolNames()}openSettings(s){const[u,R]=Re.Proxy.create();this.bindReceiver(R),u.openSettings(s)}}class Le{constructor(s){b(this,"proxy");this.proxy=s}handleLink(s,u){this.proxy.handleLink(s,u)}}class le{constructor(s){b(this,"proxy");this.proxy=s}triggerProductEvent(s){this.proxy.triggerProductEvent(s)}}class Ge{constructor(){b(this,"dispatcher");b(this,"host");b(this,"logger");b(this,"conversationControllers",[]);b(this,"authStateController",[]);b(this,"navigationSidebarController");this.logger=ke.createLogger("web-bridge-host","info","http"),this.dispatcher=new Be.Dispatcher;const s=Je.Proxy.createToBrowser();this.host=new ve(s,this.logger),s.setFrontend(this.dispatcher.createRemote(this));const[u,R]=Ne.Proxy.create();this.host.bindReceiver(R),this.navigationSidebarController=new Xe(u)}get linkHandler(){const[s,u]=oe.Proxy.create();return this.host.bindReceiver(u),new Le(s)}get productEventHandler(){const[s,u]=Ie.Proxy.create();return this.host.bindReceiver(u),new le(s)}logConsoleMessage(s){this.logger.info(s)}sendMessage(s,u){return Promise.resolve(null)}bindReceiver(s,u){s===v.interfaceName?this.conversationControllers.push(new Qe(new ze(v,u))):s===A.interfaceName&&this.authStateController.push(new Ye(new ze(A,u)))}}let j;async function et(){j=new Ge;const e=await j.host.getAccountID();j.logger.info("Account ID: ".concat(e))}function tt(){return j==null?void 0:j.host}function nt(){return j==null?void 0:j.linkHandler}function ct(){return j==null?void 0:j.productEventHandler}async function st(){return j?(j.logger.debug("Getting whisper content"),await j.host.getWhisperContent()):null}async function it(){return j?await j.host.getTabScreenshot():null}function dt(){if(!j)return null;j.host.closeSideChat()}export{dt as closeSideChat,tt as getHost,nt as getLinkHandler,ct as getProductEventHandler,st as getSidebarWhisperContent,it as getTabScreenshot,et as initHostConnection};
//# sourceMappingURL=ns5tatduybx01g53.js.map
