const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mdck00z7lz1zwh10.js","assets/bjx6p88nrzc4ug4u.js","assets/pb09dh9fam0wt6jz.js","assets/root-bozb8ycf.css","assets/8i5ljbfelmyfiwtx.js","assets/conversation-small-gdrsfoe1.css","assets/c4u678cy43bj7dn5.js","assets/j111f1dfrasi77zj.js","assets/c0kfixywbl1qwp5d.js","assets/x7ghsbi61l9frihs.js","assets/k2i06rd8syuzz099.js","assets/jg92tkqirxcfjr1c.js","assets/ic6olz135s1xgisr.js","assets/ab6duu2lw4fd88lb.js","assets/d0imfrhbhhd08mu9.js","assets/e8dm0mb6drcqj6ac.js","assets/nzmrf34k5gq1uhrp.js","assets/ns5tatduybx01g53.js","assets/fs0qxa2k8rip3kxa.js","assets/lbhqvcm707can331.js","assets/gwqrdgrecvjptwp3.js","assets/d6ud9fgfdwut53bg.js","assets/685k1iow69cflzhf.js","assets/dr3zqlogoqaz93js.js","assets/npokqoyg1q8pydws.js","assets/byafopb9abob6q5v.js","assets/kns9nvvq30b8h03q.js","assets/lcdym6uixt9awefu.js","assets/dlu9njqsgz5knk61.js","assets/lu9r5gyimy66h6or.js","assets/bbwttaa4aoi7gydg.js","assets/op7ohodeg4qo4v50.js","assets/bra3fwt9yhgxwbql.js","assets/e6q4l53x84tz2ufe.js","assets/gczg2pz4691i0r3l.js","assets/iltap3v9c6x8hav1.js","assets/k8tliuko5my39liu.js","assets/hnuh2p82bkuiok9o.js","assets/mzlni2ig1zdwvx40.js","assets/mqwh2x7ubwc2fq4m.js","assets/gtfpn7ohgqany6fn.js","assets/en4tvy8r4bb0c4r5.js","assets/getm8f0gixaap95x.js","assets/g4tl5lt9yqf20m4s.js","assets/jltwi6w0rqk5z8u0.js","assets/bxxifr29276x5evp.js","assets/l2l4d2d2bzani7km.js","assets/dpa5u7k2jnpyoiv3.js"])))=>i.map(i=>d[i]);
var Qe=Object.defineProperty,Ye=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var Ve=(o,e,i)=>e in o?Qe(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i,Me=(o,e)=>{for(var i in e||(e={}))Je.call(e,i)&&Ve(o,i,e[i]);if(ye)for(var i of ye(e))Ze.call(e,i)&&Ve(o,i,e[i]);return o},Le=(o,e)=>Ye(o,$e(e));import{i7 as qe,mv as Ke,pH as Xe,pI as es,d_ as F,d$ as M,i as ss,fS as ts,pJ as is,aS as ze,aO as os,d as as,h as rs,ny as ns,pK as ls,g5 as De,aa as cs,cj as ds,dd as Ue,y as fs,j7 as us,aR as ms,bp as gs,p7 as ps,bh as hs,g7 as ks,nM as ws}from"./bjx6p88nrzc4ug4u.js";import{j as t,r as n,A as _s,m as Re,c as bs,n as Ge,i as xs,u as vs}from"./pb09dh9fam0wt6jz.js";import{k3 as Es,k4 as Ps,k5 as Be,iw as Cs,da as Ne,db as We,k6 as js,k7 as Ss,k8 as Ts,k9 as Os,ka as Is,kb as Fs,kc as Ms,kd as Ns,ke as As,kf as ys,kg as Vs,kh as Ls,ki as He,kj as zs,kk as Ds,kl as Us,km as Rs,kn as Gs,ko as Bs,kp as Ws,cZ as Hs,kq as Ks,kr as Qs,ks as Ys,kt as $s,T as Js,ku as Zs,kv as qs,cT as Xs,kw as et,cG as st,b6 as tt}from"./8i5ljbfelmyfiwtx.js";import{P as it,M as ot}from"./c0kfixywbl1qwp5d.js";import{C as at}from"./npokqoyg1q8pydws.js";function rt({clientThreadId:o}){const e=Es();return t.jsxs(t.Fragment,{children:[e&&t.jsx(Ps,{}),t.jsx(nt,{clientThreadId:o})]})}function nt({clientThreadId:o}){const e=n.useContext(qe),[i,c]=n.useState(!!(e!=null&&e.postWithProfile)&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(d=>d.kind==="media_generation"));return!(e!=null&&e.postWithProfile)||!i?null:t.jsx(Ke,{clientThreadId:o,children:t.jsx(it,{clientThreadId:o,postWithProfile:e.postWithProfile,onClose:()=>c(!1)})})}const lt=450;function ct({children:o,clientThreadId:e,isOpen:i,onClose:c,type:d}){return t.jsx(_s,{children:i&&t.jsx(Xe,{children:t.jsx(es.Provider,{value:{isEmbeddedInFocusedView:!0,type:d},children:t.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[t.jsx(Re.div,Me({className:"bg-token-main-surface-secondary h-full w-full"},Be)),t.jsxs("div",{className:"absolute inset-0 flex",children:[t.jsx("div",{className:"grow overflow-auto",children:o}),t.jsx(Re.div,Le(Me({className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:lt}},Be),{children:t.jsx("div",{className:"h-[100vh] pb-4",children:t.jsx(ot,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})}))]})]})})})})}const dt=F(()=>M(()=>import("./mdck00z7lz1zwh10.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),ft=F(()=>M(()=>import("./j111f1dfrasi77zj.js"),__vite__mapDeps([7,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26])).then(o=>o.ImageEditor));function ut({clientThreadId:o}){const e=Cs();n.useEffect(()=>{Ne.close()},[o]);let i;return(e==null?void 0:e.type)===We.ADAVisualization?i=t.jsx(dt,{clientThreadId:o,visualization:e.visualization}):(e==null?void 0:e.type)===We.Image&&(i=t.jsx(ft,{clientThreadId:o,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),t.jsx(ct,{clientThreadId:o,isOpen:e!=null,onClose:Ne.close,type:e==null?void 0:e.type,children:i})}var mt={};const gt=F(()=>M(()=>import("./lcdym6uixt9awefu.js"),__vite__mapDeps([27,2,1,3,4,5]))),pt=F(()=>M(()=>import("./dlu9njqsgz5knk61.js"),__vite__mapDeps([28,2,1,3,29,30,31,4,5,32,33,15,34,35,36,37,38,39,40,41,42,8,9,10,11,12,13,14,16,17,18,19,20,21,22,23,43]))),ht=F(()=>M(()=>import("./jltwi6w0rqk5z8u0.js"),__vite__mapDeps([44,2,4,1,3,5,45,37,46]))),kt=F(()=>M(()=>import("./dpa5u7k2jnpyoiv3.js"),__vite__mapDeps([47,2,1,3,37,4,5,38,39,40,45])));function Ct(o){"use forget";var Ae;const e=bs.c(112),{urlThreadId:i,clientThreadId:c,prefetchSearch:d}=o,r=ss(),l=ts(),p=is(),g=Ge(),[u]=xs(),h=u.get("from_webview")==="ios";let A;e[0]!==c||e[1]!==i?(A=()=>{var a;if(i!==void 0){const f=i;return(a=ls(f))!=null?a:f}return c!==void 0?c:De()},e[0]=c,e[1]=i,e[2]=A):A=e[2];const[s,N]=n.useState(A);i!==void 0&&s!==i&&(ze(s)===i||N(i));let y;e[3]!==s||e[4]!==r?(y=os(r,s),e[3]=s,e[4]=r,e[5]=y):y=e[5];const Se=y,Te=Ge();let V;e[6]!==Te?(V=js(Te),e[6]=Te,e[7]=V):V=e[7];const Oe=V;let L;e[8]!==s||e[9]!==i?(L=()=>{i===void 0&&ze(s)!==void 0&&N(De())},e[8]=s,e[9]=i,e[10]=L):L=e[10];let z;e[11]!==s||e[12]!==Oe||e[13]!==i?(z=[i,s,Oe],e[11]=s,e[12]=Oe,e[13]=i,e[14]=z):z=e[14],n.useEffect(L,z);const Ie=as(rs.workspaceId),{eligible:D,isLoading:U,markAsViewed:R}=Ss(),G=Ts(),{eligible:B,isLoading:W,markAsViewed:H}=Os(),K=Is(),{eligible:Q,isLoading:Y,markAsViewed:$}=Fs(),J=Ms(),{eligible:Z,isLoading:q,markAsViewed:X}=Ns(),ee=As();let se,te;e[15]!==r?(se=()=>{Ls(!0).then(a=>{a.force_login&&cs(r,{fallbackScreenHint:"login"}),He.initializeAndGatherData(a),ds(r).checkGate("4178431533")&&He.precomputeEnforcementToken(a),zs.initializeAndGatherData(a)})},te=[r],e[15]=r,e[16]=se,e[17]=te):(se=e[16],te=e[17]),n.useEffect(se,te);let ie,oe;e[18]!==p||e[19]!==l||e[20]!==u?(ie=()=>{const a=u.get(Ds)==="true",f=u.get(Us)==="true";f!==p&&Ue.setIsAnonModeEnabled(f),l!==a&&Ue.setIsTemporaryChatEnabled(a)},oe=[l,p,u],e[18]=p,e[19]=l,e[20]=u,e[21]=ie,e[22]=oe):(ie=e[21],oe=e[22]),n.useEffect(ie,oe);let ae;e[23]!==g.state?(ae=()=>{var a;(a=g.state)!=null&&a.focusObject&&Ne.setFocusedObject(g.state.focusObject)},e[23]=g.state,e[24]=ae):ae=e[24];const Fe=(Ae=g.state)==null?void 0:Ae.focusObject;let re;e[25]!==Fe?(re=[Fe],e[25]=Fe,e[26]=re):re=e[26],n.useEffect(ae,re);let ne,le;e[27]!==D||e[28]!==U||e[29]!==R||e[30]!==G?(ne=()=>{!U&&D&&(R(),G())},le=[D,U,R,G],e[27]=D,e[28]=U,e[29]=R,e[30]=G,e[31]=ne,e[32]=le):(ne=e[31],le=e[32]),n.useEffect(ne,le);let ce,de;e[33]!==B||e[34]!==W||e[35]!==H||e[36]!==K?(ce=()=>{!W&&B&&(H(),K())},de=[B,W,H,K],e[33]=B,e[34]=W,e[35]=H,e[36]=K,e[37]=ce,e[38]=de):(ce=e[37],de=e[38]),n.useEffect(ce,de);let fe,ue;e[39]!==Q||e[40]!==Y||e[41]!==$||e[42]!==J?(fe=()=>{!Y&&Q&&($(),J())},ue=[Q,Y,$,J],e[39]=Q,e[40]=Y,e[41]=$,e[42]=J,e[43]=fe,e[44]=ue):(fe=e[43],ue=e[44]),n.useEffect(fe,ue);let me,ge;e[45]!==Z||e[46]!==q||e[47]!==X||e[48]!==ee?(me=()=>{!q&&Z&&(X(),ee())},ge=[Z,q,X,ee],e[45]=Z,e[46]=q,e[47]=X,e[48]=ee,e[49]=me,e[50]=ge):(me=e[49],ge=e[50]),n.useEffect(me,ge),ys(s);const m=vs();let pe,he;e[51]!==r||e[52]!==m?(pe=()=>{fs(r)&&Rs(m)},he=[m,r],e[51]=r,e[52]=m,e[53]=pe,e[54]=he):(pe=e[53],he=e[54]),n.useEffect(pe,he);let ke,we;e[55]!==l||e[56]!==m?(ke=()=>us(hs,{completionFinished:a=>{var f;if(a.serverThreadId!=null&&!l){const je=(f=ms(a.serverThreadId))==null?void 0:f.mode;(je==null?void 0:je.kind)===gs.GizmoInteraction&&ps.handleGizmoInteracted(m,je.gizmo_id)}}}),we=[l,m],e[55]=l,e[56]=m,e[57]=ke,e[58]=we):(ke=e[57],we=e[58]),n.useEffect(ke,we),Vs();let k;e[59]!==s||e[60]!==h||e[61]!==Ie?(k=t.jsx(Gs,{clientThreadId:s,page:"chat",isIosDirectPurchaseFlow:h},Ie),e[59]=s,e[60]=h,e[61]=Ie,e[62]=k):k=e[62];let w;e[63]!==s||e[64]!==h?(w=t.jsx(wt,{clientThreadId:s,setClientThreadId:N,isIosDirectPurchaseFlow:h}),e[63]=s,e[64]=h,e[65]=w):w=e[65];let _e,be;e[66]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(gt,{}),be=t.jsx(Bs,{}),e[66]=_e,e[67]=be):(_e=e[66],be=e[67]);let xe;e[68]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(Ws,{}),e[68]=xe):xe=e[68];let _;e[69]!==s||e[70]!==i?(_=t.jsx(at,{urlThreadId:i,clientThreadId:s,setClientThreadId:N}),e[69]=s,e[70]=i,e[71]=_):_=e[71];let b;e[72]!==s?(b=t.jsx(rt,{clientThreadId:s}),e[72]=s,e[73]=b):b=e[73];let x;e[74]!==s||e[75]!==d||e[76]!==_||e[77]!==b?(x=t.jsxs(Hs,{clientThreadId:s,setClientThreadId:N,prefetchSearchPromises:d,children:[xe,_,b]}),e[74]=s,e[75]=d,e[76]=_,e[77]=b,e[78]=x):x=e[78];let v;e[79]!==s||e[80]!==k||e[81]!==w||e[82]!==x?(v=t.jsxs(ks,{clientThreadId:s,children:[k,w,_e,be,x]}),e[79]=s,e[80]=k,e[81]=w,e[82]=x,e[83]=v):v=e[83];let E,P;e[84]!==s?(E=t.jsx(ut,{clientThreadId:s}),P=t.jsx(Ks,{clientThreadId:s}),e[84]=s,e[85]=E,e[86]=P):(E=e[85],P=e[86]);let ve;e[87]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(Qs,{}),e[87]=ve):ve=e[87];let C;e[88]!==s?(C=t.jsx(Ys,{clientThreadId:s}),e[88]=s,e[89]=C):C=e[89];let Ee;e[90]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx($s,{}),e[90]=Ee):Ee=e[90];let j;e[91]!==s||e[92]!==v||e[93]!==E||e[94]!==P||e[95]!==C?(j=t.jsxs(Ke,{clientThreadId:s,children:[v,E,P,ve,C,Ee]}),e[91]=s,e[92]=v,e[93]=E,e[94]=P,e[95]=C,e[96]=j):j=e[96];let S;e[97]!==s||e[98]!==j?(S=t.jsx(Js,{clientThreadId:s,children:j}),e[97]=s,e[98]=j,e[99]=S):S=e[99];let T;e[100]!==s||e[101]!==S?(T=t.jsx(Zs,{clientThreadId:s,children:S}),e[100]=s,e[101]=S,e[102]=T):T=e[102];let Pe;e[103]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(qs,{}),e[103]=Pe):Pe=e[103];let O;e[104]!==s?(O=!1,e[104]=s,e[105]=O):O=e[105];let I;e[106]!==T||e[107]!==O?(I=t.jsxs(ws,{children:[T,Pe,O]}),e[106]=T,e[107]=O,e[108]=I):I=e[108];let Ce;return e[109]!==Se||e[110]!==I?(Ce=t.jsx(ns.Provider,{value:Se,children:I}),e[109]=Se,e[110]=I,e[111]=Ce):Ce=e[111],Ce}function wt({clientThreadId:o,setClientThreadId:e,isIosDirectPurchaseFlow:i}){const{isOpen:c,isLoading:d}=Xs(),{isOpen:r,isLoading:l}=et(),{isOpen:p,isLoading:g,closeModal:u}=st();return i?null:!d&&c?t.jsx(pt,{clientThreadId:o,setClientThreadId:e}):!l&&r?t.jsx(ht,{clientThreadId:o}):!g&&p?t.jsx(tt,{children:t.jsx(kt,{clientThreadId:o,onClose:u})}):null}typeof window<"u"&&(window._g=mt.GOKU_SERVICE);export{Ct as C,lt as F};
//# sourceMappingURL=iwksfkp0bjj14to4.js.map
