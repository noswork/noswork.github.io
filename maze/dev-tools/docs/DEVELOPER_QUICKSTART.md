# 開發者功能快速入門

## 🚀 快速設置（5分鐘）

### 步驟 1：執行資料庫遷移

在 Supabase Dashboard 的 SQL Editor 中執行：

```sql
-- 添加開發者標籤欄位
ALTER TABLE profiles 
ADD COLUMN IF NOT EXISTS is_developer BOOLEAN DEFAULT false;

-- 將你的帳號設為開發者（替換 'your_username' 為你的用戶名）
UPDATE profiles 
SET is_developer = true 
WHERE username = 'your_username';
```

### 步驟 2：重新登入

1. 登出遊戲
2. 重新登入
3. 進入任何遊戲模式

### 步驟 3：開啟開發者工具

在遊戲畫面右下角會出現一個 🛠️ 按鈕，點擊即可開啟開發者工具面板。

## 📱 使用開發者工具

### 基本操作

1. **開啟面板**：點擊右下角 🛠️ 按鈕
2. **設定速度**：拖動「移動速度」滑桿（50-1000ms）
3. **開始測試**：點擊「自動解迷宮」按鈕

### 進階設定

#### 🔄 自動完成所有迷宮
- 勾選此選項後，系統會連續完成所有迷宮直到模式結束
- 適用於 Race Mode 和 Dark Mode

#### 💾 記錄到伺服器
- 預設：勾選（測試數據會記錄到排行榜）
- 測試時：取消勾選（測試數據不會影響排行榜）

## 🎯 使用場景

### 場景 1：測試迷宮難度
```
1. 選擇迷宮大小（如 Mega）
2. 開啟開發者工具
3. 取消勾選「記錄到伺服器」
4. 設定速度為 200ms
5. 點擊「自動解迷宮」
6. 觀察完成時間和步數
```

### 場景 2：壓力測試競速模式
```
1. 進入 Race Mode（選擇完成 10 個迷宮）
2. 開啟開發者工具
3. 勾選「自動完成所有迷宮」
4. 取消勾選「記錄到伺服器」
5. 設定速度為 50ms（最快）
6. 點擊「自動解迷宮」
7. 系統會自動完成全部 10 個迷宮
```

### 場景 3：測試最短路徑效率
```
1. 進入任意模式
2. 開啟開發者工具
3. 設定速度為 500ms（慢速，便於觀察）
4. 點擊「自動解迷宮」
5. 觀察系統是否選擇最短路徑
```

## 🔧 技術細節

### 最短路徑算法
- **算法**：BFS（廣度優先搜索）
- **保證**：找到的一定是最短路徑
- **複雜度**：O(V + E)，其中 V 是格子數，E 是邊數

### 自動行走速度
- **最快**：50ms/步（超快速測試）
- **預設**：150ms/步（模擬真實走路）
- **最慢**：1000ms/步（便於觀察路徑）

### 記錄控制
- **記錄到伺服器**：勾選時會正常記錄成績
- **不記錄**：取消勾選時，會跳過伺服器記錄，不影響排行榜

## 📊 開發者工具功能清單

| 功能 | 說明 | 狀態 |
|------|------|------|
| ✅ 自動尋路 | BFS 最短路徑算法 | 已實現 |
| ✅ 自動行走 | 可調速度的自動移動 | 已實現 |
| ✅ 連續完成 | 自動完成所有迷宮 | 已實現 |
| ✅ 記錄控制 | 選擇是否記錄到伺服器 | 已實現 |
| ✅ 視覺化 | 開發者工具UI面板 | 已實現 |
| ⏸️ 暫停/繼續 | 暫停自動測試 | 已實現（可擴展） |

## ❓ 常見問題

### Q: 為什麼我看不到開發者工具按鈕？
**A:** 確認以下事項：
1. 已在資料庫中將 `is_developer` 設為 `true`
2. 已重新登入遊戲
3. 檢查瀏覽器控制台是否有錯誤

### Q: 自動解迷宮失敗怎麼辦？
**A:** 這可能是因為：
1. 迷宮生成錯誤（極少見）
2. 檢查控制台錯誤訊息
3. 嘗試重新載入遊戲

### Q: 如何避免測試數據污染排行榜？
**A:** 測試時務必：
1. 開啟開發者工具面板
2. **取消勾選「記錄到伺服器」**
3. 開始測試

### Q: 可以在手機上使用開發者工具嗎？
**A:** 可以！開發者工具面板已適配手機屏幕。

## 📝 更新日誌

### v1.0.0 (2025-10-08)
- ✨ 新增開發者標籤系統
- ✨ 實現 BFS 最短路徑算法
- ✨ 實現自動解迷宮功能
- ✨ 實現連續自動完成功能
- ✨ 實現記錄控制功能
- ✨ 新增開發者工具 UI 面板

## 🔗 相關文檔

- [完整開發者功能說明](./DEVELOPER_FEATURES.md) - 詳細的技術文檔
- [遊戲說明](./README.md) - 遊戲整體說明

